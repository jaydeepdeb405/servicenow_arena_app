<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[function($uibModal ,$scope) {
  /* widget controller */
  var c = this;
		c.openModal = function() {
			alert('yes');
		c.modalInstance = $uibModal.open({
			templateUrl: 'modalTemplate',
			scope: $scope
		});
	}
			c.closeModal = function() {
		c.modalInstance.close();
	}
		
		
}]]></client_script>
        <controller_as>c</controller_as>
        <css>body{margin:40px;}&#13;
&#13;
&#13;
.btn-circle {&#13;
  width: 30px;&#13;
  height: 30px;&#13;
  text-align: center;&#13;
  padding: 6px 0;&#13;
  font-size: 12px;&#13;
  line-height: 1.428571429;&#13;
  border-radius: 15px;&#13;
}&#13;
.btn-circle.btn-lg {&#13;
  width: 50px;&#13;
  height: 50px;&#13;
  padding: 10px 16px;&#13;
  font-size: 18px;&#13;
  line-height: 1.33;&#13;
  border-radius: 25px;&#13;
}&#13;
.btn-circle.btn-xl {&#13;
  width: 70px;&#13;
  height: 70px;&#13;
  padding: 10px 16px;&#13;
  font-size: 24px;&#13;
  line-height: 1.33;&#13;
  border-radius: 35px;&#13;
}&#13;
&#13;
// testing part&#13;
.tooltip {&#13;
    display:inline-block;&#13;
    position:relative;&#13;
    border-bottom:1px dotted #666;&#13;
    text-align:left;&#13;
}&#13;
&#13;
.tooltip h3 {margin:12px 0;}&#13;
&#13;
.tooltip .right {&#13;
    min-width:200px;&#13;
    max-width:400px;&#13;
    top:50%;&#13;
    left:100%;&#13;
    margin-left:20px;&#13;
    transform:translate(0, -50%);&#13;
    padding:0;&#13;
    color:#EEEEEE;&#13;
    background-color:#444444;&#13;
    font-weight:normal;&#13;
    font-size:13px;&#13;
    border-radius:8px;&#13;
    position:absolute;&#13;
    z-index:99999999;&#13;
    box-sizing:border-box;&#13;
    box-shadow:0 1px 8px rgba(0,0,0,0.5);&#13;
    visibility:hidden; opacity:0; transition:opacity 0.8s;&#13;
}&#13;
&#13;
.tooltip:hover .right {&#13;
    visibility:visible; opacity:1;&#13;
}&#13;
&#13;
.tooltip .right img {&#13;
    width:400px;&#13;
    border-radius:8px 8px 0 0;&#13;
}&#13;
.tooltip .text-content {&#13;
    padding:10px 20px;&#13;
}&#13;
&#13;
.tooltip .right i {&#13;
    position:absolute;&#13;
    top:50%;&#13;
    right:100%;&#13;
    margin-top:-12px;&#13;
    width:12px;&#13;
    height:24px;&#13;
    overflow:hidden;&#13;
}&#13;
.tooltip .right i::after {&#13;
    content:'';&#13;
    position:absolute;&#13;
    width:12px;&#13;
    height:12px;&#13;
    left:0;&#13;
    top:50%;&#13;
    transform:translate(50%,-50%) rotate(-45deg);&#13;
    background-color:#444444;&#13;
    box-shadow:0 1px 8px rgba(0,0,0,0.5);&#13;
}&#13;
/////testing end&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
&#13;
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>challange_popup</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) { 

 }]]></link>
        <name>Arena Challange popup</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
	var callange= [];
	var challangelist = new GlideRecord('x_93700_arena_results');
	challangelist.addQuery('arena_user',getplayer());
	challangelist.addNotNullQuery('challenged_by');
	challangelist.query()
	data.count = challangelist.getRowCount();
	while (challangelist.next())
		{
			var details = {};
			details.level = challangelist.getValue('level');
			details.by = challangelist.getDisplayValue('challenged_by');
			details.url = 'https://google.com';
			gs.addInfoMessage(details);
			callange.push(details);
		}
	
	

	data.chalangedetails = callange;
	
	function getplayer()
	{
		var gr = new GlideRecord('x_93700_arena_user');
		gr.addQuery('user',gs.getUserID());
		gr.query();
		if(gr.next())
			return gr.sys_id;
		
	}
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>nikesh</sys_created_by>
        <sys_created_on>2020-04-21 04:09:11</sys_created_on>
        <sys_id>6d334871db189410b6db8e474896193d</sys_id>
        <sys_mod_count>65</sys_mod_count>
        <sys_name>Arena Challange popup</sys_name>
        <sys_package display_value="Arena" source="x_93700_arena">661460dfdbc5c010b6db8e47489619ae</sys_package>
        <sys_policy/>
        <sys_scope display_value="Arena">661460dfdbc5c010b6db8e47489619ae</sys_scope>
        <sys_update_name>sp_widget_6d334871db189410b6db8e474896193d</sys_update_name>
        <sys_updated_by>nikesh</sys_updated_by>
        <sys_updated_on>2020-04-22 13:16:28</sys_updated_on>
        <template><![CDATA[<button type="button" ng-mouseover="c.openModal()"title = "you have been challanged "class="btn btn-danger btn-circle btn-xl" data-container="body" data-toggle="popover" data-placement="top" data-content="Vivamus sagittis lacus vel augue laoreet rutrum faucibus."><i class=""></i>
<span class="badge badge-light ">{{data.count}}</span>
</button>



<!--<div class="tooltip">
    Right
    <div class="right">
        <img src="cssttp/tooltip-head.jpg" />
        <div class="text-content">
            <h3>Fade in Effect</h3>
            <ul>
                <li>This demo has fade in/out effect.</li>
                <li>It is using CSS opacity, visibility, and transition property to toggle the tooltip.</li>
                <li>Other demos are using display property<em>(none or block)</em> for the toggle.</li>
            </ul>
        </div>
        <i></i>
    </div>
</div>


<div >-->

                <script  type = "text/ng-template" id="modalTemplate">
              <style>
              body {
  margin: 0;
  padding: 0;
  background: #000;
  overflow: hidden;
}

.darkTable button
{
  background-color:#44c767;
  border-radius:12px;
  border:1px solid #18ab29;
  display:inline-block;
  cursor:pointer;
  color:#ffffff;
  font-family:Arial;
  font-size:15px;
  padding:5px 10px;
  text-decoration:none;
  text-shadow:-2px -1px 3px #2f6627;
}

.darkTable button:hover
{
  background-color:#5cbf2a;
}

.darkTable button:active
{
  position:relative;
  top:1px;
}

table.darkTable {
  font-family: "Comic Sans MS", cursive, sans-serif;
  border: 2px solid #000000;
  background-color: #ffffcc;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.darkTable td, table.darkTable th {
  border: 2px solid #4A4A4A;
  padding: 3px 2px;
}
table.darkTable tbody td {
  font-size: 13px;
  color: #58196D;
}
table.darkTable tr:nth-child(even) {
  background: #ffffcc;
}
table.darkTable thead {
  background: #58196D;
  background: -moz-linear-gradient(top, #825291 0%, #68307b 66%, #58196D 100%);
  background: -webkit-linear-gradient(top, #825291 0%, #68307b 66%, #58196D 100%);
  background: linear-gradient(to bottom, #825291 0%, #68307b 66%, #58196D 100%);
  border-bottom: 3px solid #8949FF;
}
table.darkTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #E6E6E6;
  text-align: center;
  border-left: 2px solid #A357C1;
}
table.darkTable thead th:first-child {
  border-left: none;
}

table.darkTable tfoot td {
  font-size: 12px;
}
              </style>
<div class="panel panel-default">
		<div class="panel-heading" >
			<h4 class="panel-title" style="
    text-align: center;
">${Challanges you have}</h4>
  		</div>
		 <div class="panel-body wrapper-ms">
       <div>
    <widget id="widget-cool-clock"></widget>
</div>
    <table class = "darkTable">
      <thead>
        <tr>
          <th>Level</th>
          <th>Player who challanged you</th>
 <th>Action</th>
        </tr>	
      </thead>	
      <tbody>	
        <tr ng-repeat='x in data.chalangedetails'>
          <td>{{x.level}}</td>
          <td>{{x.by}}</td>
          <td>{{x.url}}</td>
         
         <!-- <td ng-if="x.show" ng-click="c.challenger(x.lastUser,x.level,x.difficulty); c.showLeaderBoard()"><button>Challenge</button></td>-->
        </tr>
      </tbody>
    </table>
  </div>

		<div class="panel-footer text-right">
			<button class="btn btn-primary" ng-click="c.closeModal()">${Close}</button>
</div>
</div>
</script>
      </div>       
]]></template>
    </sp_widget>
</record_update>
